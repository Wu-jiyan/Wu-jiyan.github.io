System.register("chunks:///_virtual/LifeTrackItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,o,a,c,l,s,p,u,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,l=e.RichText,s=e.Node,p=e.UITransform,u=e.Size,g=e.Component}],execute:function(){var f,h,b,d,y,m,z,T,L,v,w;o._RF.push({},"13c8150xT9OHoVDT5Oz5bA9","LifeTrackItem",void 0);var x=a.ccclass,S=a.property;e("LifeTrackItem",(f=x("LifeTrackItem"),h=S({type:c}),b=S({type:l}),d=S({type:s}),y=S({type:s}),f((T=t((z=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(r(t),"agaLabel",T,r(t)),n(r(t),"descriptionText",L,r(t)),n(r(t),"descriptionBG",v,r(t)),n(r(t),"lineNode",w,r(t)),t}i(t,e);var o=t.prototype;return o.start=function(){},o.setData=function(e,t){this.agaLabel.string=e,this.descriptionText.string=t;var i=this.getHeight(),n=this.descriptionBG.getComponent(p),r=n.contentSize;n.contentSize=new u(r.width,i)},o.getHeight=function(){return this.descriptionText.getComponent(p).contentSize.height},o.setLineLength=function(e){var t=this.lineNode.getComponent(p),i=t.contentSize;t.contentSize=new u(i.width,e)},t}(g)).prototype,"agaLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(z.prototype,"descriptionText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(z.prototype,"descriptionBG",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(z.prototype,"lineNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=z))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/property.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./util.ts"],(function(t){"use strict";var s,i,e,T,h,S,E,P,Y,a,r;return{setters:[function(t){s=t.classPrivateFieldSet,i=t.classPrivateFieldGet,e=t.createForOfIteratorHelperLoose,T=t.defineProperty},function(t){h=t.cclegacy,S=t.sys},function(t){E=t.sum,P=t.max,Y=t.min,a=t.clone,r=t.listRandom}],execute:function(){h._RF.push({},"146017WEUlI/LkSWRI1dalX","property",void 0);var c=new WeakMap,n=new WeakMap;t("default",function(){function t(){T(this,"TYPES",{AGE:"AGE",CHR:"CHR",INT:"INT",STR:"STR",MNY:"MNY",SPR:"SPR",LIF:"LIF",TLT:"TLT",EVT:"EVT",TMS:"TMS",LAGE:"LAGE",HAGE:"HAGE",LCHR:"LCHR",HCHR:"HCHR",LINT:"LINT",HINT:"HINT",LSTR:"LSTR",HSTR:"HSTR",LMNY:"LMNY",HMNY:"HMNY",LSPR:"LSPR",HSPR:"HSPR",SUM:"SUM",EXT:"EXT",ATLT:"ATLT",AEVT:"AEVT",ACHV:"ACHV",CTLT:"RTLT",CEVT:"REVT",CACHV:"CACHV",RDM:"RDM"}),T(this,"SPECIAL",{RDM:[this.TYPES.CHR,this.TYPES.INT,this.TYPES.STR,this.TYPES.MNY,this.TYPES.SPR]}),c.set(this,{writable:!0,value:void 0}),n.set(this,{writable:!0,value:{}})}var h=t.prototype;return h.initial=function(t){var i=t.age;for(var e in s(this,c,i),i){var T,h,S=i[e],E=S.event,P=S.talent;Array.isArray(E)||(E=(null===(T=E)||void 0===T?void 0:T.split(","))||[]),E=E.map((function(t){var s=(""+t).split("*").map((function(t){return Number(t)}));return 1==s.length&&s.push(1),s})),Array.isArray(P)||(P=(null===(h=P)||void 0===h?void 0:h.split(","))||[]),P=P.map((function(t){return Number(t)})),i[e]={event:E,talent:P}}},h.restart=function(t){var i;for(var e in s(this,n,((i={})[this.TYPES.AGE]=-1,i[this.TYPES.CHR]=0,i[this.TYPES.INT]=0,i[this.TYPES.STR]=0,i[this.TYPES.MNY]=0,i[this.TYPES.SPR]=0,i[this.TYPES.LIF]=1,i[this.TYPES.TLT]=[],i[this.TYPES.EVT]=[],i[this.TYPES.LAGE]=1/0,i[this.TYPES.LCHR]=1/0,i[this.TYPES.LINT]=1/0,i[this.TYPES.LSTR]=1/0,i[this.TYPES.LSPR]=1/0,i[this.TYPES.LMNY]=1/0,i[this.TYPES.HAGE]=-1/0,i[this.TYPES.HCHR]=-1/0,i[this.TYPES.HINT]=-1/0,i[this.TYPES.HSTR]=-1/0,i[this.TYPES.HMNY]=-1/0,i[this.TYPES.HSPR]=-1/0,i)),t)this.change(e,t[e])},h.restartLastStep=function(){i(this,n)[this.TYPES.LAGE]=this.get(this.TYPES.AGE),i(this,n)[this.TYPES.LCHR]=this.get(this.TYPES.CHR),i(this,n)[this.TYPES.LINT]=this.get(this.TYPES.INT),i(this,n)[this.TYPES.LSTR]=this.get(this.TYPES.STR),i(this,n)[this.TYPES.LSPR]=this.get(this.TYPES.SPR),i(this,n)[this.TYPES.LMNY]=this.get(this.TYPES.MNY),i(this,n)[this.TYPES.HAGE]=this.get(this.TYPES.AGE),i(this,n)[this.TYPES.HCHR]=this.get(this.TYPES.CHR),i(this,n)[this.TYPES.HINT]=this.get(this.TYPES.INT),i(this,n)[this.TYPES.HSTR]=this.get(this.TYPES.STR),i(this,n)[this.TYPES.HMNY]=this.get(this.TYPES.MNY),i(this,n)[this.TYPES.HSPR]=this.get(this.TYPES.SPR)},h.get=function(t){switch(t){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:return a(i(this,n)[t]);case this.TYPES.LAGE:case this.TYPES.LCHR:case this.TYPES.LINT:case this.TYPES.LSTR:case this.TYPES.LMNY:case this.TYPES.LSPR:return Y(i(this,n)[t],this.get(this.fallback(t)));case this.TYPES.HAGE:case this.TYPES.HCHR:case this.TYPES.HINT:case this.TYPES.HSTR:case this.TYPES.HMNY:case this.TYPES.HSPR:return P(i(this,n)[t],this.get(this.fallback(t)));case this.TYPES.SUM:var s=this.get(this.TYPES.HAGE),e=this.get(this.TYPES.HCHR),T=this.get(this.TYPES.HINT),h=this.get(this.TYPES.HSTR),S=this.get(this.TYPES.HMNY),r=this.get(this.TYPES.HSPR);return Math.floor(2*E(e,T,h,S,r)+s/2);case this.TYPES.TMS:return this.lsget("times")||0;case this.TYPES.EXT:return this.lsget("extendTalent")||null;case this.TYPES.ATLT:case this.TYPES.AEVT:case this.TYPES.ACHV:return this.lsget(t)||[];case this.TYPES.CTLT:case this.TYPES.CEVT:case this.TYPES.CACHV:return this.get(this.fallback(t)).length;default:return 0}},h.fallback=function(t){switch(t){case this.TYPES.LAGE:case this.TYPES.HAGE:return this.TYPES.AGE;case this.TYPES.LCHR:case this.TYPES.HCHR:return this.TYPES.CHR;case this.TYPES.LINT:case this.TYPES.HINT:return this.TYPES.INT;case this.TYPES.LSTR:case this.TYPES.HSTR:return this.TYPES.STR;case this.TYPES.LMNY:case this.TYPES.HMNY:return this.TYPES.MNY;case this.TYPES.LSPR:case this.TYPES.HSPR:return this.TYPES.SPR;case this.TYPES.CTLT:return this.TYPES.ATLT;case this.TYPES.CEVT:return this.TYPES.AEVT;case this.TYPES.CACHV:return this.TYPES.ACHV;default:return}},h.set=function(t,s){switch(t){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:return this.hl(t,i(this,n)[t]=a(s)),void this.achieve(t,s);case this.TYPES.TMS:return void this.lsset("times",parseInt(s)||0);case this.TYPES.EXT:return void this.lsset("extendTalent",s);default:return}},h.getLastRecord=function(){var t;return a(((t={})[this.TYPES.AGE]=this.get(this.TYPES.AGE),t[this.TYPES.CHR]=this.get(this.TYPES.CHR),t[this.TYPES.INT]=this.get(this.TYPES.INT),t[this.TYPES.STR]=this.get(this.TYPES.STR),t[this.TYPES.MNY]=this.get(this.TYPES.MNY),t[this.TYPES.SPR]=this.get(this.TYPES.SPR),t))},h.change=function(t,s){if(Array.isArray(s))for(var T,h=e(s);!(T=h()).done;){var S=T.value;this.change(t,Number(S))}else switch(t){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:return void this.hl(t,i(this,n)[t]+=Number(s));case this.TYPES.TLT:case this.TYPES.EVT:var E=i(this,n)[t];if(s<0){var P=E.indexOf(s);-1!=P&&E.splice(P,1)}return E.includes(s)||E.push(s),void this.achieve(t,s);case this.TYPES.TMS:return void this.set(t,this.get(t)+parseInt(s));default:return}},h.hookSpecial=function(t){switch(t){case this.TYPES.RDM:return r(this.SPECIAL.RDM);default:return t}},h.effect=function(t){for(var s in t)this.change(this.hookSpecial(s),Number(t[s]))},h.isEnd=function(){return this.get(this.TYPES.LIF)<1},h.ageNext=function(){this.change(this.TYPES.AGE,1);var t=this.get(this.TYPES.AGE),s=this.getAgeData(t);return{age:t,event:s.event,talent:s.talent}},h.getAgeData=function(t){return a(i(this,c)[t])},h.hl=function(t,s){var e;switch(t){case this.TYPES.AGE:e=[this.TYPES.LAGE,this.TYPES.HAGE];break;case this.TYPES.CHR:e=[this.TYPES.LCHR,this.TYPES.HCHR];break;case this.TYPES.INT:e=[this.TYPES.LINT,this.TYPES.HINT];break;case this.TYPES.STR:e=[this.TYPES.LSTR,this.TYPES.HSTR];break;case this.TYPES.MNY:e=[this.TYPES.LMNY,this.TYPES.HMNY];break;case this.TYPES.SPR:e=[this.TYPES.LSPR,this.TYPES.HSPR];break;default:return}var T=e,h=T[0],S=T[1];i(this,n)[h]=Y(i(this,n)[h],s),i(this,n)[S]=P(i(this,n)[S],s)},h.achieve=function(t,s){var i;switch(t){case this.TYPES.ACHV:var e=this.lsget(t);return void this.lsset(t,(e||[]).concat([[s,Date.now()]]));case this.TYPES.TLT:i=this.TYPES.ATLT;break;case this.TYPES.EVT:i=this.TYPES.AEVT;break;default:return}var T=this.lsget(i)||[];this.lsset(i,Array.from(new Set(T.concat(s||[]).flat())))},h.lsget=function(t){var s=S.localStorage.getItem(t);if(null!==s)return JSON.parse(s)},h.lsset=function(t,s){S.localStorage.setItem(t,JSON.stringify(s))},t}());h._RF.pop()}}}));

System.register("chunks:///_virtual/Life.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./util.ts","./property.ts","./event.ts","./Talent.ts","./achievement.ts","./ConfigManager.ts"],(function(t){"use strict";var e,r,i,n,o,s,p,a,h,c,_;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,r=t.createClass,i=t.defineProperty,n=t.asyncToGenerator},function(t){o=t.cclegacy},function(t){s=t.weightRandom},function(t){p=t.default},function(t){a=t.default},function(t){h=t.talentMgr},function(t){c=t.Achievement},function(t){_=t.default}],execute:function(){o._RF.push({},"26af1qQIDFA4rL7IzI7FUF7","Life",void 0);t("lifeMgr",new(function(){function t(){i(this,"_property",void 0),i(this,"_event",void 0),i(this,"_talent",void 0),i(this,"_achievement",void 0),i(this,"_triggerTalents",void 0),this._property=new p,this._event=new a,this._talent=h,this._achievement=new c}var o=t.prototype;return o.initial=function(){var t=n(regeneratorRuntime.mark((function t(){var e,r,i,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([_.readJson("age"),_.readJson("talents"),_.readJson("events"),_.readJson("achievement")]);case 2:e=t.sent,r=e[0],i=e[1],n=e[2],o=e[3],this._property.initial({age:r}),this._talent.initial({talents:i}),this._event.initial({events:n}),this._achievement.initial({achievements:o});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.restart=function(t){this._triggerTalents={};var e=this.talentReplace(t.TLT);return this._property.restart(t),this.doTalent(),this._property.restartLastStep(),this._achievement.achieve(this._achievement.Opportunity.START,this._property),e},o.getTalentAllocationAddition=function(t){return this._talent.allocationAddition(t)},o.getTalentCurrentTriggerCount=function(t){return this._triggerTalents[t]||0},o.next=function(){var t=this._property.ageNext(),e=t.age,r=t.event,i=t.talent,n=this.doTalent(i),o=this.doEvent(this.random(r)),s=this._property.isEnd(),p=[].concat(n,o);return this._achievement.achieve(this._achievement.Opportunity.TRAJECTORY,this._property),{age:e,content:p,isEnd:s}},o.talentReplace=function(t){var e=this._talent.replace(t),r=[];for(var i in e){t.push(e[i]);var n=this._talent.get(i),o=this._talent.get(e[i]);r.push({type:"talentReplace",source:n,target:o})}return r},o.doTalent=function(t){var r=this;t&&this._property.change(this._property.TYPES.TLT,t),t=this._property.get(this._property.TYPES.TLT).filter((function(t){return r.getTalentCurrentTriggerCount(t)<r._talent.get(t).max_triggers}));for(var i,n=[],o=e(t);!(i=o()).done;){var s=i.value,p=this._talent.do(s,this._property);if(p){this._triggerTalents[s]=this.getTalentCurrentTriggerCount(s)+1;var a=p.effect,h=p.name,c=p.description,_=p.grade;n.push({type:this._property.TYPES.TLT,name:h,grade:_,description:c}),a&&this._property.effect(a)}}return n},o.doEvent=function(t){var e=this._event.do(t,this._property),r=e.effect,i=e.next,n=e.description,o=e.postEvent;this._property.change(this._property.TYPES.EVT,t),this._property.effect(r);var s={type:this._property.TYPES.EVT,description:n,postEvent:o};return i?[s].concat(this.doEvent(i)):[s]},o.random=function(t){var e=this;return s(t.filter((function(t){var r=t[0];return e._event.check(r,e._property)})))},o.talentRandom=function(){var t=this._property.get(this._property.TYPES.TMS),e=this._property.get(this._property.TYPES.CACHV);return this._talent.talentRandom(this.getLastExtendTalent(),{times:t,achievement:e})},o.talentExtend=function(t){this._property.set(this._property.TYPES.EXT,t)},o.getLastExtendTalent=function(){return this._property.get(this._property.TYPES.EXT)},o.getSummary=function(){return this._achievement.achieve(this._achievement.Opportunity.SUMMARY,this._property),{AGE:this._property.get(this._property.TYPES.HAGE),CHR:this._property.get(this._property.TYPES.HCHR),INT:this._property.get(this._property.TYPES.HINT),STR:this._property.get(this._property.TYPES.HSTR),MNY:this._property.get(this._property.TYPES.HMNY),SPR:this._property.get(this._property.TYPES.HSPR),SUM:this._property.get(this._property.TYPES.SUM)}},o.getLastRecord=function(){return this._property.getLastRecord()},o.exclusive=function(t,e){return this._talent.exclusive(t,e)},o.getAchievements=function(){var t={};return this._property.get(this._property.TYPES.ACHV).forEach((function(e){var r=e[0],i=e[1];return t[r]=i})),this._achievement.list(this._property).sort((function(e,r){var i=e.id,n=e.grade,o=e.hide,s=r.id,p=r.grade,a=r.hide;return i=t[i],s=t[s],i&&s?s-i:i||s?i?s?void 0:-1:1:o&&a?p-n:o?1:a?-1:p-n}))},o.getTotal=function(){var t=this._property.get(this._property.TYPES.TMS),e=this._property.get(this._property.TYPES.CACHV),r=this._property.get(this._property.TYPES.CTLT),i=this._property.get(this._property.TYPES.CEVT);return{times:t,achievement:e,talentRate:r/this._talent.count(),eventRate:i/this._event.count()}},r(t,[{key:"times",get:function(){var t;return(null===(t=this._property)||void 0===t?void 0:t.get(this._property.TYPES.TMS))||0},set:function(t){var e;null===(e=this._property)||void 0===e||e.set(this._property.TYPES.TMS,t),this._achievement.achieve(this._achievement.Opportunity.END,this._property)}}]),t}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/AchievementItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,l,o,a,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Color,c=e.Sprite,s=e.Label,u=e.Component}],execute:function(){var p,f,b,h,m,d,g,v,y,w,L;l._RF.push({},"28655SvBVlOs7BuLbbcdG1I","AchievementItem",void 0);var A=o.ccclass,z=o.property,B=[(new a).fromHEX("#464646"),(new a).fromHEX("#7ea5ec"),(new a).fromHEX("#e2a7ff"),(new a).fromHEX("#ffa07a")];e("AchievementItem",(p=A("AchievementItem"),f=z({type:c}),b=z({type:s}),h=z({type:s}),m=z({type:c}),p((v=t((g=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,r(n(t),"BG",v,n(t)),r(n(t),"titleLbl",y,n(t)),r(n(t),"descLbl",w,n(t)),r(n(t),"flowerTag",L,n(t)),t}i(t,e);var l=t.prototype;return l.start=function(){},l.setData=function(e){e.hide&&!e.isAchieved?(this.titleLbl.string="???",this.descLbl.string="???"):(this.titleLbl.string=e.name,this.descLbl.string=e.description),this.BG.color=B[e.grade],e.isAchieved?this.flowerTag.node.active=!0:this.flowerTag.node.active=!1},t}(u)).prototype,"BG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(g.prototype,"titleLbl",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(g.prototype,"descLbl",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(g.prototype,"flowerTag",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/achievement.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./util.ts","./condition.ts","./EventMessage.ts","./Defines.ts"],(function(e){"use strict";var t,i,n,r,c,o,u,s,a;return{setters:[function(e){t=e.classPrivateFieldSet,i=e.classPrivateFieldGet,n=e.createForOfIteratorHelperLoose,r=e.defineProperty},function(e){c=e.cclegacy},function(e){o=e.clone},function(e){u=e.checkCondition},function(e){s=e.eventMsg},function(e){a=e.Message}],execute:function(){c._RF.push({},"2ebf1c3o/JMO46jyizTZPPt","achievement",void 0);var v=new WeakMap;e("Achievement",function(){function e(){r(this,"Opportunity",{START:"START",TRAJECTORY:"TRAJECTORY",SUMMARY:"SUMMARY",END:"END"}),v.set(this,{writable:!0,value:void 0})}var c=e.prototype;return c.initial=function(e){var i=e.achievements;t(this,v,i)},c.count=function(){return Object.keys(i(this,v)).length},c.list=function(e){var t=this;return Object.values(i(this,v)).map((function(i){var n=i.id;return{id:n,name:i.name,opportunity:i.opportunity,description:i.description,hide:i.hide,grade:i.grade,isAchieved:t.isAchieved(n,e)}}))},c.get=function(e){var t=i(this,v)[e];if(!t)throw new Error("[ERROR] No Achievement["+e+"]");return o(t)},c.check=function(e,t){var i=this.get(e).condition;return u(t,i)},c.isAchieved=function(e,t){for(var i,r=n(t.get(t.TYPES.ACHV)||[]);!(i=r()).done;){if(i.value[0]==e)return!0}return!1},c.achieve=function(e,t){var i=this;this.list(t).filter((function(e){return!e.isAchieved})).filter((function(t){return t.opportunity==e})).filter((function(e){var n=e.id;return i.check(n,t)})).forEach((function(e){var n=e.id;t.achieve(t.TYPES.ACHV,n),s.emit(a.Achievement,i.get(n))}))},e}());c._RF.pop()}}}));

System.register("chunks:///_virtual/TagItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a,n,r,o,c,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,c=t.Label,s=t.UIOpacity,p=t.Component}],execute:function(){var u,l,y,f,g,h,m;r._RF.push({},"30215PPV8RECbcWcSvYkUZZ","TagItem",void 0);var b=o.ccclass,v=o.property;t("TagItem",(u=b("TagItem"),l=v({type:c}),y=v({type:s}),u((h=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(n(e),"tagName",h,n(e)),a(n(e),"uiOpacity",m,n(e)),e}i(e,t);var r=e.prototype;return r.start=function(){},r.setFontSize=function(t){this.tagName.fontSize=t},r.setOpacity=function(t){this.uiOpacity.opacity=t},r.setTagName=function(t){this.tagName.string=t},r.refresh=function(t,e){var i=this.node.position,a=t/(t-i.z),n=(i.z+e)/(2*e);this.tagName.fontSize=15*a,this.uiOpacity.opacity=255*(n+.5)},e}(p)).prototype,"tagName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(g.prototype,"uiOpacity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/TalentItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,i,o,l,a,c,u,s,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){l=e.cclegacy,a=e._decorator,c=e.Color,u=e.Label,s=e.Sprite,f=e.Button,p=e.Component}],execute:function(){var m,y,b,d,h,I,g,v,w;l._RF.push({},"3512a8fVOxJgIUDJCjLwZRo","TalentItem",void 0);var C=a.ccclass,E=a.property,L=[(new c).fromHEX("#464646"),(new c).fromHEX("#6495ed"),(new c).fromHEX("#e2a7ff"),(new c).fromHEX("#ffa07a")];e("TalentItem",(m=C("TalentItem"),y=E({type:u}),b=E({type:s}),d=E({type:f}),m((g=t((I=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,r(i(t),"nameLbl",g,i(t)),r(i(t),"frame",v,i(t)),r(i(t),"ItemButton",w,i(t)),o(i(t),"index",0),o(i(t),"onItemClick",null),t}n(t,e);var l=t.prototype;return l.start=function(){},l.setData=function(e){this.nameLbl.string=e.name+"("+e.description+")",this.ItemButton.normalColor=L[e.grade]},l.onButtonClick=function(){var e;null===(e=this.onItemClick)||void 0===e||e.call(this,this.index)},l.setSelected=function(e){this.frame.color=e?c.GREEN:c.WHITE},t}(p)).prototype,"nameLbl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(I.prototype,"frame",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(I.prototype,"ItemButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=I))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/condition.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,n;return{setters:[function(r){e=r.createForOfIteratorHelperLoose},function(r){n=r.cclegacy}],execute:function(){function t(r,n){if(!Array.isArray(n))return function(r,n){var t=n.length,u=n.search(/[><\!\?=]/),s=n.substring(0,u),a=n.substring(u,u+="="==n[u+1]?2:1),i=n.substring(u,t),c=r.get(s),o="["==i[0]?JSON.parse(i):Number(i);switch(a){case">":return c>o;case"<":return c<o;case">=":return c>=o;case"<=":return c<=o;case"=":return Array.isArray(c)?c.includes(o):c==o;case"!=":return Array.isArray(c)?!c.includes(o):c==o;case"?":if(Array.isArray(c)){for(var f,l=e(c);!(f=l()).done;){var h=f.value;if(o.includes(h))return!0}return!1}return o.includes(c);case"!":if(Array.isArray(c)){for(var v,d=e(c);!(v=d()).done;){var g=v.value;if(o.includes(g))return!1}return!0}return!o.includes(c);default:return!1}}(r,n);if(0==n.length)return!0;if(1==n.length)return t(r,n[0]);for(var u=t(r,n[0]),s=1;s<n.length;s+=2)switch(n[s]){case"&":u&&(u=t(r,n[s+1]));break;case"|":if(u)return!0;u=t(r,n[s+1]);break;default:return!1}return u}r({checkCondition:function(r,e){var n=function(r){var e=[],n=r.length,t=[];t.unshift(e);for(var u=0,s=function(e){var n=r.substring(u,e).trim();u=e,n&&t[0].push(n)},a=0;a<n;a++)switch(r[a]){case" ":continue;case"(":s(a),u++;var i=[];t[0].push(i),t.unshift(i);break;case")":s(a),u++,t.shift();break;case"|":case"&":s(a),s(a+1);break;default:continue}return s(n),e}(e);return t(r,n)},extractMaxTriggers:function(r){var e=/AGE\?\[([0-9\,]+)\]/.exec(r);if(null==e)return 1;return e[1].split(",").length}}),n._RF.push({},"4613dzQqvlAubehIlfH/Drl","condition",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/EventMessage.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"4e324KiHd1Mj78n/Hffy+JF","EventMessage",void 0);var i=e("EventEmitter",function(){function e(){t(this,"_listenerMap",new Map)}var n=e.prototype;return n.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this._listenerMap.get(e);r&&r.forEach((function(e){e.apply(void 0,n)}))},n.on=function(e,t){var n=this._listenerMap.get(e);n||(n=[],this._listenerMap.set(e,n)),n.push(t)},n.off=function(e,t){var n=this._listenerMap.get(e);if(n){var i=n.indexOf(t);i>=0&&n.splice(i,1)}},e}());e("eventMsg",new i);n._RF.pop()}}}));

System.register("chunks:///_virtual/LifeTrackPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./LifeTrackItem.ts","./EventMessage.ts","./Defines.ts","./Life.ts","./PropItem.ts","./UIPanel.ts"],(function(t){"use strict";var e,i,n,r,a,o,l,u,s,c,p,h,f,g,d,m,y,_,P,T,b,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.defineProperty,o=t.createClass},function(t){l=t.cclegacy,u=t._decorator,s=t.Color,c=t.ScrollView,p=t.Node,h=t.Prefab,f=t.Button,g=t.Label,d=t.instantiate,m=t.Vec3},function(t){y=t.LifeTrackItem},function(t){_=t.eventMsg},function(t){P=t.PropNameMap},function(t){T=t.lifeMgr},function(t){b=t.PropItem},function(t){B=t.UIPanel}],execute:function(){var v,L,I,S,k,w,C,N,A,M,x,E,z,H,G,O,R,D,V,Y,j;l._RF.push({},"5aab2jXtf9OHJM7FC+9+iKf","LifeTrackPanel",void 0);var U=u.ccclass,F=u.property,X=["CHR","INT","STR","MNY","SPR"],J=new s(53,194,115);t("LifeTrackPanel",(v=U("LifeTrackPanel"),L=F(c),I=F({type:p}),S=F({type:h}),k=F({type:p}),w=F({type:h}),C=F({type:p}),N=F({type:p}),A=F({type:p}),M=F({type:f}),v((z=e((E=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(r(e),"scrollView",z,r(e)),n(r(e),"lifeTrackGroup",H,r(e)),n(r(e),"lifeTrackItemPrfb",G,r(e)),n(r(e),"propGroup",O,r(e)),n(r(e),"propItemPrfb",R,r(e)),n(r(e),"nextYearButtonNode",D,r(e)),n(r(e),"autoPlayButtonNode",V,r(e)),n(r(e),"restartButtonNode",Y,r(e)),n(r(e),"changeSpeedButton",j,r(e)),a(r(e),"_autoPlayButtonLbl",void 0),a(r(e),"_autoPlayButton",void 0),a(r(e),"_changeSpeedButtonLbl",void 0),a(r(e),"_isEnd",!1),a(r(e),"_isAutoPlay",!1),a(r(e),"_triggerTime",1e3),a(r(e),"_timeScale",1),a(r(e),"_timeScaleArray",[1,2,4,8,20]),a(r(e),"_curTimeScaleIndex",0),a(r(e),"_spacing",5),a(r(e),"_curMaxHeight",0),a(r(e),"_propItemsMap",new Map),e}i(e,t);var l=e.prototype;return l.onLoad=function(){},l.start=function(){},l.initPanel=function(){this._contentUITrans=this.lifeTrackGroup._uiProps.uiTransformComp,this._autoPlayButtonLbl=this.autoPlayButtonNode.getComponentInChildren(g),this._autoPlayButton=this.autoPlayButtonNode.getComponent(f),this._changeSpeedButtonLbl=this.changeSpeedButton.getComponentInChildren(g)},l.createLifeTrack=function(t,e){var i=d(this.lifeTrackItemPrfb);i.setParent(this.lifeTrackGroup);var n=i.getComponent(y);n.setData(t,e);var r=n.getHeight();i.setPosition(new m(0,this._curMaxHeight,0)),n.setLineLength(r+this._spacing),this._curMaxHeight-=r+this._spacing,this._contentUITrans.height=-this._curMaxHeight},l.createPropItem=function(t,e){var i=d(this.propItemPrfb);i.setParent(this.propGroup);var n=i.getComponent(b);return n.setData(t,e),n},l.onReplayButtonClicked=function(){_.emit("Replay")},l.initProp=function(){var t=this;this.propGroup.removeAllChildren(),this._propItemsMap.clear();var e=T.getLastRecord();X.forEach((function(i){t._propItemsMap.set(i,t.createPropItem(P[i],e[i]))}))},l.updatePropData=function(){var t=this,e=T.getLastRecord();X.forEach((function(i){var n=t._propItemsMap.get(i);null==n||n.updateValue(e[i])}))},l.onShow=function(t,e){this._isEnd=!1,this._isAutoPlay=!1,this._curMaxHeight=0,this.initPanel(),this.nextYearButtonNode.active=!0,this.autoPlayButtonNode.active=!0,this.restartButtonNode.active=!1,this.setAutoPlayButtonState(!1),this.lifeTrackGroup.removeAllChildren();var i={};Object.assign(i,e);var n=t.map((function(t){return t.id}));i.TLT=n;T.restart(i);this.initProp(),this.triggerOneLifeTrack()},l.onNextYearButtonClicked=function(){this.triggerOneLifeTrack()},l.onAutoPlayButtonClicked=function(){this._isAutoPlay?this._isAutoPlay=!1:(this._isAutoPlay=!0,this.triggerOneLifeTrack()),this.setAutoPlayButtonState(this._isAutoPlay)},l.setAutoPlayButtonState=function(t){t?(this._autoPlayButton.normalColor=J,this.changeSpeedButton.node.active=!0,this._changeSpeedButtonLbl.string="X"+this._timeScale):(this._autoPlayButton.normalColor=s.WHITE,this.changeSpeedButton.node.active=!1)},l.triggerOneLifeTrack=function(){var t=this;if(!this._isEnd){var e=T.next();this.showOneTrackItem(e),this.updatePropData(),this.scrollView.scrollToBottom(.5),this._isEnd=e.isEnd,this._isEnd?this.onLifeEnd():this._isAutoPlay&&setTimeout((function(){t.triggerOneLifeTrack()}),this.realTriggerTime)}},l.showOneTrackItem=function(t){var e=t.content.map((function(t){var e=t.type,i=t.description,n=(t.grade,t.name),r=t.postEvent;switch(e){case"TLT":return"天赋【"+n+"】发动："+i;case"EVT":return i+(r?"<br/>"+r:"")}})).join("<br/>");this.createLifeTrack(t.age+"岁 ",e)},l.onLifeEnd=function(){this.nextYearButtonNode.active=!1,this.autoPlayButtonNode.active=!1,this.restartButtonNode.active=!0},l.onChangeSpeedButtonClicked=function(){this._curTimeScaleIndex=++this._curTimeScaleIndex%this._timeScaleArray.length,this._timeScale=this._timeScaleArray[this._curTimeScaleIndex],this._changeSpeedButtonLbl.string="X"+this._timeScale},o(e,[{key:"realTriggerTime",get:function(){return this._triggerTime/this._timeScale}}]),e}(B)).prototype,"scrollView",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(E.prototype,"lifeTrackGroup",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(E.prototype,"lifeTrackItemPrfb",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(E.prototype,"propGroup",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(E.prototype,"propItemPrfb",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(E.prototype,"nextYearButtonNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(E.prototype,"autoPlayButtonNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(E.prototype,"restartButtonNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(E.prototype,"changeSpeedButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=E))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/Talent.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./util.ts","./condition.ts","./addition.ts"],(function(e){"use strict";var t,r,n,i,a,o,u,c;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,r=e.defineProperty},function(e){n=e.cclegacy},function(e){i=e.clone,a=e.weightRandom},function(e){o=e.extractMaxTriggers,u=e.checkCondition},function(e){c=e.getRate}],execute:function(){n._RF.push({},"6f0e92mPVdNDZxh7eJwr3t+","Talent",void 0);var l=e("TalentManager",function(){function e(){r(this,"_talents",void 0)}var n=e.prototype;return n.initial=function(e){var r=e.talents;for(var n in this._talents=r,r){var i=r[n];if(i.id=Number(n),i.grade=Number(i.grade),i.max_triggers=o(i.condition),i.replacement)for(var a in i.replacement){for(var u,c={},l=t(i.replacement[a]);!(u=l()).done;){var s=u.value;c[(s=(""+s).split("*"))[0]||0]=Number(s[1])||1}i.replacement[a]=c}}},n.count=function(){return Object.keys(this._talents).length},n.check=function(e,t){var r=this.get(e).condition;return u(t,r)},n.get=function(e){var t=this._talents[e];if(!t)throw new Error("[ERROR] No Talent["+e+"]");return i(t)},n.information=function(e){var t=this.get(e);return{grade:t.grade,name:t.name,description:t.description}},n.exclusive=function(e,r){var n=this.get(r).exclusive;if(!n)return null;for(var i,a=t(e);!(i=a()).done;)for(var o,u=i.value,c=t(n);!(o=c()).done;){if(u==o.value)return u}return null},n.talentRandom=function(e,t){var r=void 0===t?{}:t,n=r.times,i=void 0===n?0:n,a=r.achievement,o=void 0===a?0:a,u={1:100,2:10,3:1},l={1:1,2:1,3:1},s=c("times",i),f=c("achievement",o);for(var d in s)l[d]+=s[d]-1;for(var v in f)l[v]+=f[v]-1;for(var h in l)u[h]*=l[h];var g={};for(var m in this._talents){var p=this._talents[m],_=p.id,x=p.grade,y=p.name,M=p.description;_!=e?g[x]?g[x].push({grade:x,name:y,description:M,id:_}):g[x]=[{grade:x,name:y,description:M,id:_}]:e={grade:x,name:y,description:M,id:_}}return new Array(10).fill(1).map((function(t,r){if(!r&&e)return e;for(var n,i=(n=Math.floor(1e3*Math.random()),(n-=u[3])<0?3:(n-=u[2])<0?2:(n-=u[1])<0?1:0);0==g[i].length;)i--;var a=g[i].length,o=Math.floor(Math.random()*a)%a;return g[i].splice(o,1)[0]}))},n.allocationAddition=function(e){if(Array.isArray(e)){for(var r,n=0,i=t(e);!(r=i()).done;){var a=r.value;n+=this.allocationAddition(a)}return n}return Number(this.get(e).status)||0},n.do=function(e,t){var r=this.get(e),n=r.effect,i=r.condition,a=r.grade,o=r.name,c=r.description;return i&&!u(t,i)?null:{effect:n,grade:a,name:o,description:c}},n.replace=function(e){for(var r,n=this,o=function e(t,r){var i=function(e,t){var r=n.get(e).replacement;if(!r)return null;var i=[];if(r.grade&&n.forEach((function(e){var a=e.id,o=e.grade;r.grade[o]&&(n.exclusive(t,a)||i.push([a,r.grade[o]]))})),r.talent)for(var a in r.talent){var o=Number(a);n.exclusive(t,o)||i.push([o,r.talent[o]])}return i}(t,r);if(!i)return t;var o=a(i);return e(o,r.concat(o))},u=i(e),c={},l=t(e);!(r=l()).done;){var s=r.value,f=o(s,u);f!=s&&(c[s]=f,u.push(f))}return c},n.forEach=function(e){if("function"==typeof e)for(var t in this._talents)e(i(this._talents[t]),t)},e}());e("talentMgr",new l);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventMessage.ts","./Defines.ts","./ConfigManager.ts","./Life.ts","./LifeTrackPanel.ts","./AchievementHint.ts","./AchievementPanel.ts","./DistributePropPanel.ts","./SelectTalentPanel.ts","./StartMenuPanel.ts"],(function(e){"use strict";var t,n,a,i,o,l,r,c,u,s,p,f,d,m,h,v,b,P,y,g,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty,l=e.asyncToGenerator},function(e){r=e.cclegacy,c=e._decorator,u=e.Node,s=e.sys,p=e.Component},function(e){f=e.eventMsg},function(e){d=e.Message},function(e){m=e.default},function(e){h=e.lifeMgr},function(e){v=e.LifeTrackPanel},function(e){b=e.AchievementHint},function(e){P=e.AchievementPanel},function(e){y=e.DistributePropPanel},function(e){g=e.SelectTalentPanel},function(e){B=e.StartMenuPanel}],execute:function(){var w,S,T,N,R,M,k,L,_,z,E,O,D,j,A,C,G,H,x,U,I,J,W,F,K;r._RF.push({},"6f8c8q9ZkpDqKjGhsV04tDD","GameManager",void 0);var q=c.ccclass,V=c.property;e("GameManager",(w=q("GameManager"),S=V({type:b}),T=V({type:u}),N=V({type:u}),R=V({type:u}),M=V({type:u}),k=V({type:u}),L=V({type:B}),_=V({type:P}),z=V({type:g}),E=V({type:y}),O=V({type:v}),w((A=t((j=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,a(i(t),"achievementHint",A,i(t)),a(i(t),"saveButtonNode",C,i(t)),a(i(t),"loadButtonNode",G,i(t)),a(i(t),"homeButtonNode",H,i(t)),a(i(t),"githubButtonNode",x,i(t)),a(i(t),"achievementButtonNode",U,i(t)),a(i(t),"startMenuPanel",I,i(t)),a(i(t),"achievementPanel",J,i(t)),a(i(t),"selectTalentPanel",W,i(t)),a(i(t),"distributePropPanel",F,i(t)),a(i(t),"lifeTrackPanel",K,i(t)),o(i(t),"_selectedTalentList",void 0),t}n(t,e);var r=t.prototype;return r.start=function(){this.init()},r.init=function(){var e=l(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h.initial(),m.readJson("happy_life"),m.readJson("specialthanks")]);case 2:t=e.sent,n=t[1],t[2],f.on(d.StartMenu,(function(){a.startMenuPanel.show(n),a.selectTalentPanel.hide(),a.distributePropPanel.hide(),a.lifeTrackPanel.hide(),a.loadButtonNode.active=!0,a.saveButtonNode.active=!0,a.homeButtonNode.active=!1,a.githubButtonNode.active=!0,a.achievementButtonNode.active=!0})),f.on(d.StartGame,(function(){a.startMenuPanel.hide(),a.loadButtonNode.active=!1,a.saveButtonNode.active=!1,a.homeButtonNode.active=!0,a.githubButtonNode.active=!1,a.achievementButtonNode.active=!1,a.openSelectTalentPanel()})),f.on(d.TalentSelectEnd,(function(e){a._selectedTalentList=e,a.selectTalentPanel.hide(),a.distributePropPanel.show(e)})),f.on(d.DistributePropEnd,(function(e){a.distributePropPanel.hide(),a.lifeTrackPanel.show(a._selectedTalentList,e)})),f.on(d.Replay,(function(){a.lifeTrackPanel.hide(),h.times++,a.openSelectTalentPanel()})),f.on(d.Achievement,(function(e){var t=e.name;a.achievementHint.show(t)})),f.emit(d.StartMenu);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.openSelectTalentPanel=function(){var e=h.talentRandom();this.selectTalentPanel.show(e)},r.save=function(){if(s.platform===s.Platform.MOBILE_BROWSER||s.platform===s.Platform.DESKTOP_BROWSER){var e={};Object.keys(localStorage).filter((function(e){return"goog"!=e.substr(0,4)})).forEach((function(t){return e[t]=localStorage[t]}));var t=new Blob([JSON.stringify(e)],{type:"application/json"});t=(t.slice||t.webkitSlice||t.mozSlice).call(t,0,t.size,"application/octet-stream");var n=document.createElementNS("http://www.w3.org/1999/xhtml","a");n.href=URL.createObjectURL(t),n.download="Remake_save_"+(new Date).toISOString().replace(":",".")+".json",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(n.href)}},r.load=function(){var e=this;if(s.platform===s.Platform.MOBILE_BROWSER||s.platform===s.Platform.DESKTOP_BROWSER){var t=document.createElement("input");t.type="file",t.name="file",t.accept="application/json",t.style="display: none;",t.append("body"),t.click(),t.addEventListener("change",(function(t){var n=t.target.files[0];if(n){var a=new FileReader;a.onload=function(){var t=JSON.parse(a.result);for(var n in t)localStorage[n]=t[n];e.achievementHint.show("加载存档成功")},a.readAsText(n)}}))}},r.onHomeButtonClicked=function(){f.emit(d.StartMenu)},r.onGithubButtonClicked=function(){s.openURL("https://github.com/gameall3d/LifeRestart_Cocos")},r.onOpenAchievementButtonClicked=function(){this.achievementPanel.show()},t}(p)).prototype,"achievementHint",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(j.prototype,"saveButtonNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(j.prototype,"loadButtonNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(j.prototype,"homeButtonNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(j.prototype,"githubButtonNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(j.prototype,"achievementButtonNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(j.prototype,"startMenuPanel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(j.prototype,"achievementPanel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(j.prototype,"selectTalentPanel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(j.prototype,"distributePropPanel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(j.prototype,"lifeTrackPanel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=j))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigManager.ts",["cc"],(function(n){"use strict";var e,o;return{setters:[function(n){e=n.cclegacy,o=n.resources}],execute:function(){e._RF.push({},"75637qSsT9DBJznyRJRalfo","ConfigManager",void 0);n("default",function(){function n(){}return n.readJson=function(n){return new Promise((function(e,r){o.load(n,(function(n,o){n?(console.error(n),r(n)):e(o.json)}))}))},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/StatisticsItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,l,o,a,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,a=t.Color,c=t.Sprite,s=t.Label,u=t.Component}],execute:function(){var p,f,b,y,m,h,g,L,d;l._RF.push({},"79c45lYN21I3Jzf9KxHQghc","StatisticsItem",void 0);var w=o.ccclass,v=o.property,z=[(new a).fromHEX("#464646"),(new a).fromHEX("#7ea5ec"),(new a).fromHEX("#e2a7ff"),(new a).fromHEX("#ffa07a")];t("StatisticsItem",(p=w("StatisticsItem"),f=v({type:c}),b=v({type:s}),y=v({type:s}),p((g=e((h=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,r(n(e),"BG",g,n(e)),r(n(e),"titleLbl",L,n(e)),r(n(e),"descLbl",d,n(e)),e}i(e,t);var l=e.prototype;return l.start=function(){},l.setData=function(t,e,i){this.titleLbl.string=t,this.descLbl.string=e,this.BG.color=z[i]},e}(u)).prototype,"BG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(h.prototype,"titleLbl",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(h.prototype,"descLbl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/AchievementPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./addition.ts","./Life.ts","./AchievementItem.ts","./UIPanel.ts","./StatisticsItem.ts"],(function(e){"use strict";var t,i,a,s,n,r,c,o,m,h,l,u,p,v,f,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,s=e.assertThisInitialized,n=e.defineProperty},function(e){r=e.cclegacy,c=e._decorator,o=e.Node,m=e.Prefab,h=e.instantiate},function(e){l=e.getGrade,u=e.getRate},function(e){p=e.lifeMgr},function(e){v=e.AchievementItem},function(e){f=e.UIPanel},function(e){I=e.StatisticsItem}],execute:function(){var b,g,d,P,y,A,_,G,S,R,k;r._RF.push({},"7baefjqdLRKUrgY5285bpeS","AchievementPanel",void 0);var w=c.ccclass,D=c.property;e("AchievementPanel",(b=w("AchievementPanel"),g=D({type:o}),d=D({type:m}),P=D({type:o}),y=D({type:m}),b((G=t((_=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,a(s(t),"achievementItemsGroup",G,s(t)),a(s(t),"achievementItemPrfb",S,s(t)),a(s(t),"statisticsItemsGroup",R,s(t)),a(s(t),"statisticsItemPrfb",k,s(t)),n(s(t),"_itemHeight",150),n(s(t),"_spacingY",20),t}i(t,e);var r=t.prototype;return r.start=function(){this._contentUITrans=this.achievementItemsGroup._uiProps.uiTransformComp},r.createAchievementItem=function(e){var t=h(this.achievementItemPrfb);t.setParent(this.achievementItemsGroup),t.getComponent(v).setData(e);var i=this.achievementItemsGroup.children.length,a=Math.round(i/2);this._contentUITrans.height=a*this._itemHeight+this._spacingY*(a-1)},r.createStatisticsItem=function(e,t,i){var a=h(this.statisticsItemPrfb);a.setParent(this.statisticsItemsGroup),a.getComponent(I).setData(e,t,i)},r.onShow=function(){var e=this;this.achievementItemsGroup.removeAllChildren(),this._contentUITrans=this.achievementItemsGroup._uiProps.uiTransformComp,p.getAchievements().forEach((function(t){var i=t.name,a=t.description,s=t.hide,n=t.grade,r=t.isAchieved;e.createAchievementItem({name:i,description:a,hide:s,grade:n,isAchieved:r})})),this.generateStatisticsData()},r.generateStatisticsData=function(){this.statisticsItemsGroup.removeAllChildren();var e=p.getTotal(),t=e.times,i=e.achievement,a=e.talentRate,s=e.eventRate;this.createStatisticsItem("已重开"+t+"次",""+this.formatRate("times",t),l("times",t)),this.createStatisticsItem("成就达成"+i+"个",""+this.formatRate("achievement",i),l("achievement",i)),this.createStatisticsItem("事件收集率",Math.floor(100*s)+"%",l("eventRate",s)),this.createStatisticsItem("天赋收集率",Math.floor(100*a)+"%",l("talentRate",a))},r.formatRate=function(e,t){var i=u(e,t),a=Object.keys(i)[0];switch(parseInt(a)){case 0:a="白色";break;case 1:a="蓝色";break;case 2:a="紫色";break;case 3:a="橙色"}var s=Object.values(i)[0];switch(parseInt(s)){case 1:s="不变";break;case 2:s="翻倍";break;case 3:s="三倍";break;case 4:s="四倍";break;case 5:s="五倍";break;case 6:s="六倍"}return"抽到"+a+"概率"+s},t}(f)).prototype,"achievementItemsGroup",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(_.prototype,"achievementItemPrfb",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(_.prototype,"statisticsItemsGroup",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(_.prototype,"statisticsItemPrfb",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=_))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("ConfigProp",void 0),t._RF.push({},"85642Y205BHnpSvNRHQB1ax","Defines",void 0);var n;e("Message",{TalentSelectEnd:"TalentSelectEnd",DistributePropEnd:"DistributePropEnd",Replay:"Replay",StartGame:"StartGame",Achievement:"Achievement",StartMenu:"StartMenu"});!function(e){e[e.CHR=0]="CHR",e[e.INT=1]="INT",e[e.STR=2]="STR",e[e.MNY=3]="MNY",e[e.SPR=4]="SPR"}(n||(n=e("ConfigProp",{})));e("PropNameMap",{CHR:"颜值",INT:"智力",STR:"体质",MNY:"家境",SPR:"快乐"});t._RF.pop()}}}));

System.register("chunks:///_virtual/summary.ts",["cc"],(function(e){"use strict";var g;return{setters:[function(e){g=e.cclegacy}],execute:function(){e("summary",(function(e,g){var r=d[e].length;for(;r--;){var u=d[e][r],a=u.min,n=u.judge,i=u.grade;if(null==a||g>=a)return{judge:n,grade:i}}})),g._RF.push({},"8ea86yHpORGZ7iSw1xGvH8J","summary",void 0);var d={CHR:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3}],MNY:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3}],SPR:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不幸",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"幸福",grade:1},{min:9,judge:"极乐",grade:2},{min:11,judge:"天命",grade:3}],INT:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3},{min:21,judge:"识海",grade:3},{min:131,judge:"元神",grade:3},{min:501,judge:"仙魂",grade:3}],STR:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3},{min:21,judge:"凝气",grade:3},{min:101,judge:"筑基",grade:3},{min:401,judge:"金丹",grade:3},{min:1001,judge:"元婴",grade:3},{min:2001,judge:"仙体",grade:3}],AGE:[{judge:"胎死腹中",grade:0},{min:1,judge:"早夭",grade:0},{min:10,judge:"少年",grade:0},{min:18,judge:"盛年",grade:0},{min:40,judge:"中年",grade:0},{min:60,judge:"花甲",grade:1},{min:70,judge:"古稀",grade:1},{min:80,judge:"杖朝",grade:2},{min:90,judge:"南山",grade:2},{min:95,judge:"不老",grade:3},{min:100,judge:"修仙",grade:3},{min:500,judge:"仙寿",grade:3}],SUM:[{judge:"地狱",grade:0},{min:41,judge:"折磨",grade:0},{min:50,judge:"不佳",grade:0},{min:60,judge:"普通",grade:0},{min:80,judge:"优秀",grade:1},{min:100,judge:"罕见",grade:2},{min:110,judge:"逆天",grade:3},{min:120,judge:"传说",grade:3}]};g._RF.pop()}}}));

System.register("chunks:///_virtual/PropItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,a,o,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,u=e.Component}],execute:function(){var c,p,s,b,f,y,m;a._RF.push({},"928255UO/ZP+ZHuVTFkrvgo","PropItem",void 0);var v=o.ccclass,g=o.property;e("PropItem",(c=v("PropItem"),p=g({type:l}),s=g({type:l}),c((y=t((f=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(n(t),"nameLbl",y,n(t)),i(n(t),"valueLbl",m,n(t)),t}r(t,e);var a=t.prototype;return a.start=function(){},a.setData=function(e,t){this.nameLbl.string=e,this.updateValue(t)},a.updateValue=function(e){this.valueLbl.string=e.toString()},t}(u)).prototype,"nameLbl",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(f.prototype,"valueLbl",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/DistributePropItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,r,l,s,u,c,a,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty,l=t.createClass},function(t){s=t.cclegacy,u=t._decorator,c=t.Label,a=t.EditBox,p=t.Component}],execute:function(){var d,f,h,b,y,v,B;s._RF.push({},"97386ft0aBMH5dxsVX1kPDt","DistributePropItem",void 0);var g=u.ccclass,k=u.property;t("DistributePropItem",(d=g("DistributePropItem"),f=k({type:c}),h=k({type:a}),d((v=i((y=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),s=0;s<e;s++)l[s]=arguments[s];return i=t.call.apply(t,[this].concat(l))||this,n(o(i),"titleLbl",v,o(i)),n(o(i),"pointEditBox",B,o(i)),r(o(i),"onAddButtonClick",void 0),r(o(i),"onReduceButtonClick",void 0),r(o(i),"key",void 0),r(o(i),"_point",0),i}e(i,t);var s=i.prototype;return s.setTitle=function(t){this.titleLbl.string=t},s.start=function(){},s.onAddButtonClicked=function(){var t;null===(t=this.onAddButtonClick)||void 0===t||t.call(this,this)},s.onReduceButtonClicked=function(){var t;null===(t=this.onReduceButtonClick)||void 0===t||t.call(this,this)},l(i,[{key:"point",get:function(){return this._point},set:function(t){this._point=t,this.pointEditBox.string=this._point.toString()}}]),i}(p)).prototype,"titleLbl",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(y.prototype,"pointEditBox",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/addition.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({getGrade:function(e,t){switch(e){case"times":case"achievement":return t>=100?3:t>=50?2:t>=10?1:0;case"talentRate":return t>=.9?3:t>=.6?2:t>=.3?1:0;case"eventRate":return t>=.6?3:t>=.4?2:t>=.2?1:0;default:return 0}},getRate:function(e,t){switch(e){case"times":return t>=100?{2:6}:t>=70?{2:5}:t>=50?{2:4}:t>=30?{2:3}:t>=10?{2:2}:{2:1};case"achievement":return t>=100?{3:6}:t>=70?{3:5}:t>=50?{3:4}:t>=30?{3:3}:t>=10?{3:2}:{3:1};default:return{}}}}),t._RF.push({},"a123czcsKZN+b5TK2RsPs0c","addition",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/AchievementHint.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,s,c,a,l,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){s=t.cclegacy,c=t._decorator,a=t.Label,l=t.Widget,u=t.tween,h=t.Component}],execute:function(){var p,g,d,v,f,m,w;s._RF.push({},"a7684CddlxIA6F0uCsqK1Kh","AchievementHint",void 0);var _=c.ccclass,y=c.property;t("AchievementHint",(p=_("AchievementHint"),g=y({type:a}),d=y({type:l}),p((m=e((f=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s))||this,n(o(e),"contentLbl",m,o(e)),n(o(e),"widget",w,o(e)),r(o(e),"_isShowing",!1),r(o(e),"_timer",null),e}i(e,t);var s=e.prototype;return s.start=function(){},s.show=function(t,e){var i=this;void 0===e&&(e=1),this._isShowing?(this.contentLbl.string=t,clearTimeout(this._timer),this._timer=setTimeout((function(){i.node.active=!1,i._isShowing=!1}),1e3*e)):(this._isShowing,this.node.active=!0,this.contentLbl.string=t,this.widget.top=-100,u(this.widget).to(.5,{top:0}).start(),this._timer=setTimeout((function(){i.node.active=!1,i._isShowing=!1}),1e3*e))},e}(h)).prototype,"contentLbl",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(f.prototype,"widget",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=f))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/event.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./util.ts","./condition.ts"],(function(t){"use strict";var e,n,r,i,o,c;return{setters:[function(t){e=t.classPrivateFieldSet,n=t.classPrivateFieldGet,r=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){o=t.clone},function(t){c=t.checkCondition}],execute:function(){i._RF.push({},"b1ad8S5yrpNyLB2b+dSbwqq","event",void 0);var u=new WeakMap;t("default",function(){function t(){u.set(this,{writable:!0,value:void 0})}var i=t.prototype;return i.initial=function(t){var n=t.events;for(var r in e(this,u,n),n){var i=n[r];i.branch&&(i.branch=i.branch.map((function(t){return(t=t.split(":"))[1]=Number(t[1]),t})))}},i.count=function(){return Object.keys(n(this,u)).length},i.check=function(t,e){var n=this.get(t),r=n.include,i=n.exclude;return!n.NoRandom&&((!i||!c(e,i))&&(!r||c(e,r)))},i.get=function(t){var e=n(this,u)[t];if(!e)throw new Error("[ERROR] No Event["+t+"]");return o(e)},i.information=function(t){return{description:this.get(t).event}},i.do=function(t,e){var n=this.get(t),i=n.effect,o=n.branch,u=n.event,a=n.postEvent;if(o)for(var s,f=r(o);!(s=f()).done;){var v=s.value,l=v[0],d=v[1];if(c(e,l))return{effect:i,next:d,description:u}}return{effect:i,postEvent:a,description:u}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/DistributePropPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventMessage.ts","./Defines.ts","./Life.ts","./UIPanel.ts","./DistributePropItem.ts"],(function(t){"use strict";var i,e,n,o,r,s,a,u,p,l,c,f,P,d,h,b,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){s=t.cclegacy,a=t._decorator,u=t.Node,p=t.Prefab,l=t.Label,c=t.instantiate},function(t){f=t.eventMsg},function(t){P=t.PropNameMap,d=t.Message},function(t){h=t.lifeMgr},function(t){b=t.UIPanel},function(t){m=t.DistributePropItem}],execute:function(){var I,g,M,v,y,L,k,D,C;s._RF.push({},"b4a3eoREDRPQZL9VkpDb8rf","DistributePropPanel",void 0);var R=a.ccclass,A=a.property,B=["CHR","INT","STR","MNY"];t("DistributePropPanel",(I=R("DistributePropPanel"),g=A({type:u}),M=A({type:p}),v=A({type:l}),I((k=i((L=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(o(i),"propGroup",k,o(i)),n(o(i),"distributePropItemPrfb",D,o(i)),n(o(i),"totalPointsLbl",C,o(i)),r(o(i),"totalPoints",20),r(o(i),"distributePropItemsMap",new Map),i}e(i,t);var s=i.prototype;return s.start=function(){},s.init=function(t){var i=this;this.propGroup.removeAllChildren(),this.distributePropItemsMap.clear(),B.forEach((function(t){i.distributePropItemsMap.set(t,i.createPropItem(t,P[t]))})),this.totalPoints+=h.getTalentAllocationAddition(t.map((function(t){return t.id}))),this.updateLeftPoints()},s.createPropItem=function(t,i){var e=c(this.distributePropItemPrfb);e.setParent(this.propGroup);var n=e.getComponent(m);return n.setTitle(i),n.key=t,n.point=0,n.onAddButtonClick=this.onItemAddButtonClick.bind(this),n.onReduceButtonClick=this.onItemReduceButtonClick.bind(this),n},s.getLeftPoints=function(){var t=Array.from(this.distributePropItemsMap.values()).reduce((function(t,i){return t+i.point}),0);return this.totalPoints-t},s.onItemAddButtonClick=function(t){this.getLeftPoints()>0&&(t.point+=1,this.updateLeftPoints())},s.onItemReduceButtonClick=function(t){t.point>0&&(t.point-=1,this.updateLeftPoints())},s.updateLeftPoints=function(){this.totalPointsLbl.string=this.getLeftPoints().toString()},s.onCheckButtonClicked=function(){var t=this,i={SPR:5};B.forEach((function(e){i[e]=t.distributePropItemsMap.get(e).point})),f.emit(d.DistributePropEnd,i)},s.onRandomDistributeButtonClicked=function(){for(var t=this,i=this.totalPoints,e=[10,10,10,10];i>0;)for(var n=Math.round(Math.random()*(Math.min(i,10)-1))+1;;){var o=Math.floor(4*Math.random())%4;if(!(e[o]-n<0)){e[o]-=n,i-=n;break}}Array.from(this.distributePropItemsMap.keys()).forEach((function(i,n){t.distributePropItemsMap.get(i).point=10-e[n]})),this.updateLeftPoints()},s.onShow=function(t){this.init(t)},i}(b)).prototype,"propGroup",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(L.prototype,"distributePropItemPrfb",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(L.prototype,"totalPointsLbl",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=L))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/SelectTalentPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventMessage.ts","./Defines.ts","./TalentItem.ts","./UIPanel.ts"],(function(e){"use strict";var t,n,i,l,a,c,s,r,o,u,h,d,p,f,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,a=e.defineProperty},function(e){c=e.cclegacy,s=e._decorator,r=e.Node,o=e.Prefab,u=e.Button,h=e.Label,d=e.instantiate},function(e){p=e.eventMsg},function(e){f=e.Message},function(e){m=e.TalentItem},function(e){b=e.UIPanel}],execute:function(){var I,T,g,y,S,k,v,B,P,_,L,C,z;c._RF.push({},"c4d7b4gRL9Ga7bKz0sZBuMA","SelectTalentPanel",void 0);var w=s.ccclass,N=s.property;e("SelectTalentPanel",(I=w("SelectTalentPanel"),T=N({type:r}),g=N({type:o}),y=N({type:u}),S=N({type:h}),k=N({type:h}),I((P=t((B=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return t=e.call.apply(e,[this].concat(c))||this,i(l(t),"talentItemGroup",P,l(t)),i(l(t),"talentItemPrfb",_,l(t)),i(l(t),"checkButton",L,l(t)),i(l(t),"checkButtonLbl",C,l(t)),i(l(t),"tips",z,l(t)),a(l(t),"talentItems",[]),a(l(t),"selectedTalentIndices",[]),a(l(t),"_talentList",void 0),a(l(t),"_limitSelectedTalentNum",3),t}n(t,e);var c=t.prototype;return c.start=function(){},c.init=function(e){var t=this;this._talentList=e,this.talentItemGroup.removeAllChildren(),this.selectedTalentIndices=[],this.talentItems=[],this.tips.string="最多选择"+this._limitSelectedTalentNum+"个天赋",e.forEach((function(e,n){var i=d(t.talentItemPrfb);i.setParent(t.talentItemGroup);var l=i.getComponent(m);l.index=n,l.setData(e),t.talentItems.push(l),l.onItemClick=t.onTalentItemClicked.bind(t)})),this.updateCheckButtonState()},c.updateCheckButtonState=function(){if(this.selectedTalentIndices.length===this._limitSelectedTalentNum)this.checkButtonLbl.string="完成",this.checkButton.interactable=!0;else{var e=this._limitSelectedTalentNum-this.selectedTalentIndices.length;this.checkButtonLbl.string="还差"+e+"个天赋",this.checkButton.interactable=!1}},c.onTalentItemClicked=function(e){var t=this,n=this.selectedTalentIndices.indexOf(e);n>=0?this.selectedTalentIndices.splice(n,1):(this.selectedTalentIndices.length===this._limitSelectedTalentNum&&this.selectedTalentIndices.splice(this._limitSelectedTalentNum-1,1),this.selectedTalentIndices.push(e)),this.talentItems.forEach((function(e,n){t.selectedTalentIndices.indexOf(n)>=0?e.setSelected(!0):e.setSelected(!1)})),this.updateCheckButtonState()},c.onCheckButtonClicked=function(){var e=this,t=[];this.selectedTalentIndices.forEach((function(n){t.push(e._talentList[n])})),p.emit(f.TalentSelectEnd,t)},c.onShow=function(e){this.init(e)},t}(b)).prototype,"talentItemGroup",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(B.prototype,"talentItemPrfb",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(B.prototype,"checkButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(B.prototype,"checkButtonLbl",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(B.prototype,"tips",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=B))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/util.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var t,n;return{setters:[function(r){t=r.createForOfIteratorHelperLoose},function(r){n=r.cclegacy}],execute:function(){function e(){for(var r=0,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.flat().forEach((function(t){return r+=t})),r}r({average:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];var a=e.apply(void 0,t);return a/t.flat().length},clone:function r(t){switch(typeof t){case"object":if(Array.isArray(t))return t.map((function(t){return r(t)}));var n={};for(var e in t)n[e]=r(t[e]);return n;default:return t}},listRandom:function(r){return r[Math.floor(Math.random()*r.length)]},max:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return Math.max.apply(Math,t.flat())},min:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return Math.min.apply(Math,t.flat())},sum:e,weightRandom:function(r){for(var n,e=0,a=t(r);!(n=a()).done;){var o=n.value[1];e+=o}for(var u,f=Math.random()*e,i=t(r);!(u=i()).done;){var l=u.value,c=l[0],h=l[1];if((f-=h)<0)return c}return r[r.length-1]}}),n._RF.push({},"cbaaf06ZhFAdKhR7JtE1ykV","util",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Component}],execute:function(){var c;e._RF.push({},"d4254NMR3hCDYP9uPC5N4jf","UIPanel",void 0);var r=o.ccclass;o.property,t("UIPanel",r("UIPanel")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.show=function(){this.node.active=!0,this.onShow.apply(this,arguments)},o.onShow=function(){},o.hide=function(){this.node.active=!1},e}(i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/StartMenuPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventMessage.ts","./TagItem.ts","./UIPanel.ts"],(function(t){"use strict";var e,a,n,i,o,r,s,l,c,u,h,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.defineProperty},function(t){r=t.cclegacy,s=t._decorator,l=t.Prefab,c=t.Node,u=t.instantiate},function(t){h=t.eventMsg},function(t){f=t.TagItem},function(t){g=t.UIPanel}],execute:function(){var p,d,M,P,_,m,v;r._RF.push({},"ff68dOP4v5KTacY3/xxvNmR","StartMenuPanel",void 0);var y=s.ccclass,I=s.property,b=200,C=Math.PI/180;t("StartMenuPanel",(p=y("StartMenuPanel"),d=I({type:l}),M=I({type:c}),p((m=e((_=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(i(e),"tagLabelPrfb",m,i(e)),n(i(e),"tagCloud",v,i(e)),o(i(e),"_tagItems",[]),o(i(e),"_angleX",0),o(i(e),"_angleY",0),o(i(e),"_isAutoRotY",!0),e}a(e,t);var r=e.prototype;return r.onStartButtonClicked=function(){h.emit("StartGame")},r.onShow=function(t){this.createTagCloud(t)},r.createTagCloud=function(t){this._tagItems=[],this.tagCloud.removeAllChildren();for(var e=t.length,a=0;a<e;a++){var n=(2*(a+1)-1)/e-1,i=Math.acos(n),o=i*Math.sqrt(e*Math.PI),r=b*Math.sin(i)*Math.cos(o),s=b*Math.sin(i)*Math.sin(o),l=b*Math.cos(i),c=u(this.tagLabelPrfb);c.setParent(this.tagCloud),c.setPosition(r,s,l);var h=c.getComponent(f);this._tagItems.push(h),h.setTagName(t[a]),h.refresh(400,b)}},r.rotateX=function(){var t=Math.cos(this._angleX),e=Math.sin(this._angleX);this._tagItems.forEach((function(a){var n=a.node.position,i=n.y*t-n.z*e,o=n.z*t+n.y*e;a.node.setPosition(n.x,i,o)}))},r.rotateY=function(){var t=Math.cos(this._angleY),e=Math.sin(this._angleY);this._tagItems.forEach((function(a){var n=a.node.position,i=n.x*t-n.z*e,o=n.z*t+n.x*e;a.node.setPosition(i,n.y,o)}))},r.rotateItems=function(){this.rotateX(),this.rotateY(),this._tagItems.forEach((function(t){t.refresh(400,b)}))},r.update=function(t){this._isAutoRotY&&(this._angleY=t*C*5,this.rotateItems())},e}(g)).prototype,"tagLabelPrfb",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(_.prototype,"tagCloud",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LifeTrackItem.ts","./util.ts","./property.ts","./condition.ts","./event.ts","./addition.ts","./Talent.ts","./EventMessage.ts","./Defines.ts","./achievement.ts","./ConfigManager.ts","./Life.ts","./AchievementItem.ts","./TagItem.ts","./TalentItem.ts","./PropItem.ts","./UIPanel.ts","./LifeTrackPanel.ts","./AchievementHint.ts","./StatisticsItem.ts","./AchievementPanel.ts","./DistributePropItem.ts","./DistributePropPanel.ts","./SelectTalentPanel.ts","./StartMenuPanel.ts","./GameManager.ts","./summary.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});